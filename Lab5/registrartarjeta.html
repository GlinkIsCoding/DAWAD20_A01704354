<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8">
        <title>Laboratorio 5</title>
        <link href="Lab1format.css" rel="stylesheet">
        <style>
            table, td {border: 1px solid black;}
        </style>
    </head>
    <body>
        <h1>Laboratorio 5: Programación Orientada a Eventos</h1>
        <h2>Codeando de poco a poco</h2>
        
        <br><br>
        <section><h3>Retiro de tarjeta</h3>
            <h4>Llena los campos correspondientes a tu tarjeta.</h4>
            
            
            
            <form name="cardForm"  onsubmit="return cardForm()" method="post">
                <label for = "name">Nombre:</label>
                <input type="text" id= "name" name="name"><br><br>
                <label for = "numero">Número de tarjeta:</label>
                <input type="text" id="tarjeta" name="tarjeta" minlength = "16" maxlength="16"><br><br>
                <label for = "vencimiento">Vencimiento:</label>
                <input type="month" id="vencimiento" name="vencimiento" min="2020-09" max="2030-12" value="2020-12"><br><br>
                <label for = "cvv">CVV:</label>
                <input type="password" id = "cvv" name= "cvv" maxlength="3"><br><br>
                <label for = "cvvverif">Verificación de CVV:</label>
                <input type="password" id = "cvvverif" name= "cvvverif" maxlength="3"><br><br>
                <label for= "montoretirar" name = "montoretirar">Monto a retirar: </label>
                <input type="number" id = "montoretirar" name= "retiro"><br><br>
               
                
                <br><br>
                
            </form>
            <button  onclick= "cardUpdate()">Realizar retiro de tarjeta</button>
            <br><br>
            <p id ="saldoactual">Saldo actual: $5000 MXN</p>
            <p id ="dineroretiro">Monto retirado: $0 MXN</p>
            
            
            <script>
                function cardUpdate() {
                    var valortarjeta = 5000;
                
                    var nombre = document.forms["cardForm"]["name"].value;
                    var tarjeta = document.forms["cardForm"]["tarjeta"].value;
                    var vencimiento = document.forms["cardForm"]["vencimiento"].value;
                    var cvv = document.forms["cardForm"]["cvv"].value;
                    var cvvverif = document.forms["cardForm"]["cvvverif"].value;
                    var retiro = document.forms["cardForm"]["montoretirar"].value;
                    if (nombre== "") {
                        alert("Introduce un nombre válido");
                        return false;
                    }
                    if (tarjeta.length<16) {
                        alert("Ingresa un número válido de tarjeta (16 dígitos)");
                        return false;
                    }
                    if (cvv!=cvvverif) {
                        alert("Verifica que introdujiste el CVV correctamente");
                        return false;
                    }
                    if (retiro>valortarjeta) {
                        alert("Introduce un valor menor o igual a tu saldo.");
                        return false;
                    }
                    
                    valortarjeta = valortarjeta - retiro;
                    document.getElementById("saldoactual").innerHTML = "Saldo actual: $"+valortarjeta.toFixed(2)+ " MXN";
                    document.getElementById("dineroretiro").innerHTML = "Monto retirado: $"+ retiro + " MXN";
                    
                
                }
            </script>
                
           
            
        </section>
        <hr>
        <br>
       
     
        <footer>
        
            
        
    </footer>
    </body>
    
</html>